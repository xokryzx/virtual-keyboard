{"version":3,"file":"bundle.js","mappings":"mBAEA,ICFO,MACL,GACA,GACA,GACA,GACA,GACA,IAAW,EACX,IAAa,EACb,WAAAA,GACEC,MAAK,IACLA,MAAK,GACP,CAEA,KACEA,MAAK,EAAUC,SAASC,cAAc,kBACtCF,MAAK,EAAcC,SAASC,cAAc,SAC1CF,MAAK,EAAkBC,SAASC,cAAc,oBAC9CF,MAAK,EAASC,SAASC,cAAc,UACrCF,MAAK,EAAqBC,SAASC,cAAc,sBACnD,CAEA,KACEF,MAAK,EAAQG,iBAAiB,SAAUH,MAAK,GAC7CA,MAAK,EAAYG,iBAAiB,SAAUH,MAAK,GACjDC,SAASE,iBAAiB,UAAWH,MAAK,EAAWI,KAAKJ,OAC1DC,SAASE,iBAAiB,QAASH,MAAK,EAASI,KAAKJ,OACtDA,MAAK,EAAOG,iBAAiB,QAASH,MAAK,EAASI,KAAKJ,OACzDA,MAAK,EAAmBG,iBACtB,YACAH,MAAK,EAAaI,KAAKJ,OAEzBC,SAASE,iBAAiB,UAAWH,MAAK,EAAWI,KAAKJ,MAC5D,CAEA,GAAaK,GACXJ,SAASK,gBAAgBC,aACvB,QACAF,EAAMG,OAAOC,QAAU,YAAc,GAEzC,CAEA,GAAYJ,GACVJ,SAASK,gBAAgBI,MAAMC,WAAaN,EAAMG,OAAOI,KAC3D,CAEA,GAAWP,GACLL,MAAK,IACTA,MAAK,GAAW,EAEhBA,MAAK,EAAgBa,UAAUC,OAC7B,QACA,gBAAgBC,KAAKV,EAAMW,MAE7BhB,MAAK,EACFE,cAAc,cAAcG,EAAMY,UACjCJ,UAAUK,IAAI,UACpB,CAEA,GAASb,GACHL,MAAK,IACTA,MAAK,GAAW,EAEhBA,MAAK,EACFE,cAAc,cAAcG,EAAMY,UACjCJ,UAAUM,OAAO,UACvB,CAEA,KACEnB,MAAK,EAAOY,MAAQZ,MAAK,EAAOY,MAAMQ,QAAQ,gBAAiB,GACjE,CAEA,GAAaf,GACPL,MAAK,IACTA,MAAK,GAAa,EAElBK,EAAMG,OAAOa,QAAQ,SAASR,UAAUK,IAAI,UAC9C,CAEA,GAAWb,GACT,GAAIL,MAAK,EAAU,OACnBA,MAAK,GAAa,EAElB,MAAMsB,EAAOjB,EAAMG,OAAOa,QAAQ,QAC5BE,EAAWD,GAAMT,UAAUW,SAAS,UACpCC,EAAaH,GAAMI,QAAQd,MAC7BW,GAAYE,IACK,UAAfA,EACFzB,MAAK,EAAOY,OAAS,IACG,cAAfa,EACTzB,MAAK,EAAOY,MAAQZ,MAAK,EAAOY,MAAMe,MAAM,GAAI,GAEhD3B,MAAK,EAAOY,OAASa,GAIzBzB,MAAK,EACFE,cAAc,YACbW,UAAUM,OAAO,SACvB,E","sources":["webpack://virtual-keyboard/./src/js/index.js","webpack://virtual-keyboard/./src/js/keyboard.js"],"sourcesContent":["import \"../css/style.css\";\nimport { Keyboard } from \"./keyboard\";\nnew Keyboard();\n","export class Keyboard {\n  #switch;\n  #fontSelect;\n  #inputContainer;\n  #input;\n  #keyboardContainer;\n  #keyDown = false;\n  #mouseDown = false;\n  constructor() {\n    this.#assignElement();\n    this.#addEvent();\n  }\n\n  #assignElement() {\n    this.#switch = document.querySelector(\".switch__input\");\n    this.#fontSelect = document.querySelector(\"#font\");\n    this.#inputContainer = document.querySelector(\".input-container\");\n    this.#input = document.querySelector(\".input\");\n    this.#keyboardContainer = document.querySelector(\".keyboard-container\");\n  }\n\n  #addEvent() {\n    this.#switch.addEventListener(\"change\", this.#changeTheme);\n    this.#fontSelect.addEventListener(\"change\", this.#changeFont);\n    document.addEventListener(\"keydown\", this.#onKeyDown.bind(this));\n    document.addEventListener(\"keyup\", this.#onKeyUp.bind(this));\n    this.#input.addEventListener(\"input\", this.#onInput.bind(this));\n    this.#keyboardContainer.addEventListener(\n      \"mousedown\",\n      this.#onMouseDown.bind(this),\n    );\n    document.addEventListener(\"mouseup\", this.#onMouseUp.bind(this));\n  }\n\n  #changeTheme(event) {\n    document.documentElement.setAttribute(\n      \"theme\",\n      event.target.checked ? \"dark-mode\" : \"\",\n    );\n  }\n\n  #changeFont(event) {\n    document.documentElement.style.fontFamily = event.target.value;\n  }\n\n  #onKeyDown(event) {\n    if (this.#mouseDown) return;\n    this.#keyDown = true;\n\n    this.#inputContainer.classList.toggle(\n      \"error\",\n      /[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/.test(event.key),\n    );\n    this.#keyboardContainer\n      .querySelector(`[data-code=${event.code}]`)\n      ?.classList.add(\"active\");\n  }\n\n  #onKeyUp(event) {\n    if (this.#mouseDown) return;\n    this.#keyDown = false;\n\n    this.#keyboardContainer\n      .querySelector(`[data-code=${event.code}]`)\n      ?.classList.remove(\"active\");\n  }\n\n  #onInput() {\n    this.#input.value = this.#input.value.replace(/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/, \"\");\n  }\n\n  #onMouseDown(event) {\n    if (this.#keyDown) return;\n    this.#mouseDown = true;\n\n    event.target.closest(\".key\")?.classList.add(\"active\");\n  }\n\n  #onMouseUp(event) {\n    if (this.#keyDown) return;\n    this.#mouseDown = false;\n\n    const $key = event.target.closest(\".key\");\n    const isActive = $key?.classList.contains(\"active\");\n    const $dataValue = $key?.dataset.value;\n    if (isActive && $dataValue) {\n      if ($dataValue === \"Space\") {\n        this.#input.value += \" \";\n      } else if ($dataValue === \"Backspace\") {\n        this.#input.value = this.#input.value.slice(0, -1);\n      } else {\n        this.#input.value += $dataValue;\n      }\n    }\n\n    this.#keyboardContainer\n      .querySelector(\".active\")\n      ?.classList.remove(\"active\");\n  }\n}\n"],"names":["constructor","this","document","querySelector","addEventListener","bind","event","documentElement","setAttribute","target","checked","style","fontFamily","value","classList","toggle","test","key","code","add","remove","replace","closest","$key","isActive","contains","$dataValue","dataset","slice"],"sourceRoot":""}